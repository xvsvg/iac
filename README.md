# Infrastructure As Code ‚ôæÔ∏è

–ú—ã –∑–∞–ø—É—Å–∫–∞–µ–º –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–∞ —Ç–∞—á–∫–µ –≤ Yandex.Cloud

> —É–∂–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ–º.. –Ω–∞–º –±—ã —Ö–æ—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è —Ç–∞ –µ–ø—Ç

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Vagrant
----

> –°–Ω–∞—á–∞–ª–∞ —Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ä–∏–¥–º–∏ –≤ –ø–∞–ø–∫–µ keys\README.md

–∑–∞–ø—É—Å–∫–∞–µ–º—Å—è –∏–∑ –∫–æ—Ä–Ω—è —Ä–µ—à–µ–Ω–∏—è &mdash; –∏–∑ –ø–∞–ø–∫–∏ iac, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ñ–∞–π–ª –≤–∞–≥—Ä–∞–Ω—Ç–∞ –ª–µ–∂–∏—Ç –∏–º–µ–Ω–Ω–æ —Ç–∞–º, –∞ –ø–æ –¥—Ä—É–≥–æ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```zsh
vagrant up
```

—ç—Ç–æ –ø–æ–¥–Ω–∏–º–µ—Ç —Ç–∞—á–∫—É:

|host|external port| inner port|username|
|----|-------------|-----------|--------|
|localhost|   2222 	 |	 22    | vagrant|

–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Ç–∞—á–∫–∏:
```zsh
vagrant status // —Ä–∞—Å—Å–∫–∞–∂–µ—Ç –∫–∞–∫ –¥–µ–ª–∞
vagrant ssh-config // –ø–æ–∫–∞–∂–µ—Ç –∫–æ–Ω—Ñ–∏–≥ —Ç–∞—á–∫–∏
```

| ‚ö†Ô∏è provisioning –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –∫–∞–∫–æ–µ —Ç–æ –≤—Ä–µ–º—è

### –õ–æ–∫–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

----

–ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ssh client, —Ç–æ vagrant ssh —É–ø–∞–¥–µ—Ç —Å –æ—à–∏–±–∫–æ–π
`permission denied`, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ –æ–Ω –º–æ–∂–Ω–æ –∏–º–ø–µ—Ä–∏—á–µ—Å–∫–∏ ü§ë

–ú—ã –∫–æ–ø–∏—Ä—É–µ–º –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–ª—é—á –Ω–∞ –≤—Å–µ –º–∞—à–∏–Ω—ã, —á—Ç–æ–±—ã –∞–Ω—Å–∏–±–ª —É–º–µ–ª —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ –±–µ–∑ –¥–æ–ø –ø–µ—Ä–µ–±–æ—Ä–∞ –∫–ª—é—á–µ–π, –ø–æ—ç—Ç–æ–º—É –∏ –º—ã –º–æ–∂–µ–º –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –º–∞—à–∏–Ω–µ —á–µ—Ä–µ–∑ –∫–ª—é—á:
```zsh
ssh -i ~/.ssh/ansible_key vagrant@192.168.56.201
```

### –ö–∞–∫ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º Ansible

----

- [ ] –æ—Ç–∫—Ä—ã–≤–∞–µ–º wsl, –ø–æ –¥–µ—Ñ–æ–ª—Ç—É –æ–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

- [ ] –∞ –ø–æ—Ç–æ–º —Ç—É–ø–æ –≤–æ—Ç —Ç–∞–∫ –¥–µ–ª–∞–µ–º `bash ansible_local.sh`